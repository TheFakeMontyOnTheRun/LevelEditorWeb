<!DOCTYPE html>
<html>
  <head>
    <script src="scripts.js" type="text/javascript"></script>
    <title>Design Motherfucker</title>
    <style>
      div.bordered {
      cursor: crosshair;
      }
    </style>
    
  </head>
  
  <body>
    <div class="bordered" style="float:top">
      <input type="button" value="My Button"
	     onclick="alert(httpGet('http://localhost:8080/sector/1'));"/>
      <input type="range" min="0" max="255" value="0" class="slider" id="paletteEntry">
      <div id="pet-entry">0</div>

      <span>
	<label for="geometryType">Geometry type:</label>
	
	<select id="geometryType">
	  <option value="cube">Cube</option>
	  <option value="nearleft">Near left</option>
	  <option value="nearright">Near right</option>
	</select>
	
      </span>
    </div>
    
    <div class="bordered">
      <div class="bordered" style="float:left">
	<canvas id="canvas" width="512" height="512" class="bordered">
	  Oh shit!
	</canvas>
      </div>
      
      <div class="bordered" style="float:right">
	<canvas id="preview" width="320" height="240" class="bordered" style="background-color: black;">
	</canvas>
      </div>
    </div>
    
    
    <script>
      window.onload = function(){
      
      
      init();
      draw();
      
      const canvas = document.querySelector('canvas');
      const slider = document.getElementById("paletteEntry");
      const entry = document.getElementById("pet-entry");
      const geometryType = document.getElementById("geometryType");

      slider.oninput = function() {
      entry.innerHTML = this.value;
      updateActivePaletteEntry();
      } 

      geometryType.oninput = function() {
      setGeometryType(this.selectedIndex);
      } 


      canvas.addEventListener('mousedown', function(e) {

      switch (e.button) {
      case 0:
      getCursorPosition(canvas, e, slider.value);
      entry.innerHTML = "" + slider.value;
      break;
      case 1:
      getIndexFromCursorPosition(canvas, e, slider);
      break;
      case 2:

      break;
      }
      });
      }
    </script>
    
  </body>
</html>
