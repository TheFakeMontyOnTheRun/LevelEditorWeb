<!DOCTYPE html>
<html>
  <head>
    <script src="scripts.js" type="text/javascript"></script>
    <title>Design Motherfucker</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css"/>
    
  </head>
  
  <body>
    <div class="bordered" style="float:top">

      <input type="button" value="My Button"
	     onclick="alert(httpGet('http://localhost:8080/sector/1'));"/>
      <ul>
	<li>
	  <input type="range" min="1" max="1" value="1" class="slider" id="shape">
	  <div id="shape-entry">0</div>
	</li>
	<li>
	  <input type="range" min="0" max="3" value="0" class="slider" id="vertex">
	  <div id="vertex-entry">0</div>	  
	</li>	
      </ul>
    </div>

    <div>
      <ul>
	<li><a href="#" onclick="addNewShape();">Create sector</a></li>
	<li><a href="#" onclick="deleteShape();">Delete active shape</a></li>	
	<li><a href="#" onclick="addNewVertex();">Create vertex</a></li>
	<li><a href="#" onclick="moveVertex();">Move active vertex</a></li>
	<li><a href="#" onclick="deleteVertex();">Delete active vertex</a></li>
      </ul>
    </div>

    
    <div class="bordered">
      <div class="bordered" style="float:left">
	<canvas id="canvas" width="512" height="512" class="bordered">
	  Oh shit!
	</canvas>
      </div>
      
      <div class="bordered" style="float:right">
	<canvas id="preview" width="320" name="preview"   height="240" class="bordered" style="background-color: black;">
	  Oh no!
	</canvas>
      </div>
    </div>
    
    
    <script>
      window.onload = function(){
      
      init();
      draw();
      
      const canvas = document.querySelector('canvas');
      var shapeSlider = document.getElementById("shape");
      var shapeEntry = document.getElementById("shape-entry");
      var vertexSlider = document.getElementById("vertex");
      var vertexEntry = document.getElementById("vertex-entry");      

      shapeSlider.oninput = function() {
      shapeEntry.innerHTML = this.value;
      updateActiveShape(this.value);
      }

      vertexSlider.oninput = function() {
      vertexEntry.innerHTML = this.value;
      updateActiveVertex(this.value);
      } 
      

      canvas.addEventListener('mousedown', function(e) {

      switch (e.button) {
      case 0:
      setCursorPosition(canvas, e);
      break;
      case 1:
      break;
      case 2:
      break;
      }

      draw();
      });



      canvas.addEventListener('mousemove', function(e) {
      updateMousePosition(canvas, e);
      draw();
      });




      }



    </script>
    
  </body>
</html>
